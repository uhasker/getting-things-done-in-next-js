<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Events</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="events"><a class="header" href="#events">Events</a></h2>
<div style="text-align: right"> <i> What was the difference between target and currentTarget again? <br> — Seconds before disaster </i> </div>
<h3 id="the-basics"><a class="header" href="#the-basics">The Basics</a></h3>
<p><strong>Events</strong> can be used to react to "interesting changes" like user input.
For example, you might want to do something if the user clicks a button, presses a key or resizes the window.</p>
<p>Consider the following simple HTML example:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;title&gt;Example&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;a id="example-link" href="http://example.com/"&gt;Go to example page&lt;/a&gt;
    &lt;button id="example-button"&gt;Click me!&lt;/button&gt;
    &lt;div id="parent"&gt;
      &lt;button id="child"&gt;Click the child!&lt;/button&gt;
    &lt;/div&gt;
    &lt;script&gt;
      /* Our JavaScript code will go here. Note that the script tag must be at the end of the body. */
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>We can use the <code>addEventListener</code> to register an <strong>event listener</strong> on the button to set up a function that should be called if the button is clicked.</p>
<p>The <code>addEventListener</code> function takes two arguments.
The first argument is the event to listen to (which in this case will be <code>'click'</code>).
The second argument is a function that takes the specific event and handles it.</p>
<pre><code class="language-js">document.querySelector('#example-button').addEventListener('click', () =&gt; {
  console.log('Button was clicked!');
});
</code></pre>
<p>If you click the button, the text <code>Button was clicked!</code> will appear in the console.</p>
<blockquote>
<p>The <code>addEventListener</code> is a typical example of a higher-order function since it takes a function as one of its arguments.</p>
</blockquote>
<p>You can remove an event listener using the <code>removeEventListener</code> function:</p>
<pre><code class="language-js">const clickFunction = () =&gt; {
  console.log('Button was clicked!');
};

document.querySelector('#example-button').addEventListener('click', clickFunction);
document.querySelector('#example-button').removeEventListener('click', clickFunction);
</code></pre>
<p>The registered function can take the <code>event</code> object as an argument which is useful if you need to gather more information about the event:</p>
<pre><code class="language-js">document.querySelector('#example-button').addEventListener('click', (e) =&gt; {
  console.log(e);
});
</code></pre>
<h3 id="preventing-default-actions"><a class="header" href="#preventing-default-actions">Preventing Default Actions</a></h3>
<p>Many events have default actions.
For example, clicking a link will navigate you to a new page.</p>
<p>You can prevent the default action using <code>event.preventDefault()</code>:</p>
<pre><code class="language-js">document.querySelector('#example-link').addEventListener('click', (e) =&gt; {
  e.preventDefault();
  console.log("You can't click this link, harharhar.");
});
</code></pre>
<p>While you should definitely not break links in this manner, <code>event.preventDefault()</code> is useful with other elements as we will see in the next sections.</p>
<h3 id="event-targets"><a class="header" href="#event-targets">Event Targets</a></h3>
<p>An event object has two important properties that are a common source of confusion for beginners—<code>target</code> and <code>currentTarget</code>.</p>
<p>The <code>target</code> is the element that triggered the event.</p>
<p>However, the <code>currentTarget</code> is a reference to the element to
which the event handler was attached in the first place.
Put simply, <code>currentTarget</code> is the element that listens to the event.</p>
<p>The <code>target</code> and <code>currentTarget</code> can be the same element if the element that triggers the event is also the element that listens to the event.
However, that doesn't have to be the case.</p>
<p>Consider our setup with a <code>&lt;div&gt;</code> element containing a <code>&lt;button&gt;</code>:</p>
<pre><code class="language-html">&lt;div id="parent"&gt;
  &lt;button id="child"&gt;Click the child!&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<p>Let's put a <code>click</code> event listener on the parent <code>&lt;div&gt;</code>:</p>
<pre><code class="language-js">document.querySelector('#parent').addEventListener('click', (e) =&gt; {
  console.log('event.target:', e.target);
  console.log('event.currentTarget:', e.currentTarget);
});
</code></pre>
<p>Here, the <code>target</code> would be the child <code>&lt;button&gt;</code> because that was the element that actually triggered the event.
After all, you click the child <code>&lt;button&gt;</code> and not the parent <code>&lt;div&gt;</code>.</p>
<p>However, the <code>currentTarget</code> would be the parent <code>&lt;div&gt;</code> because that was the element to which we attached the event handler.</p>
<p>You can verify this yourself.
If you click the <code>child</code> button, you will see that <code>event.target</code> refers to the child <code>&lt;button&gt;</code> while <code>event.currentTarget</code> refers to the parent <code>&lt;div&gt;</code>.</p>
<p>It's also important to note that the value of <code>event.currentTarget</code> is only available while the event is being handled.
This means that if you <code>console.log()</code> the event, store in a variable and then look at <code>event.currentTarget</code> in the console, you will get <code>null</code>.
This can be extremely confusing if you're trying to debug events.</p>
<h3 id="a-simple-example"><a class="header" href="#a-simple-example">A Simple Example</a></h3>
<p>Here is how we could create a button that dynamically adds a new task every time we click it:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;title&gt;Example&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="task-list"&gt;
      &lt;button id="addTask"&gt;Add a task&lt;/button&gt;
    &lt;/div&gt;
    &lt;script&gt;
      function addTask() {
        const paragraph = document.createElement('p');
        paragraph.classList.add('task');
        paragraph.innerHTML = 'New task';
        const taskList = document.querySelector('#task-list');
        taskList.appendChild(paragraph);
      }
      document.querySelector('#task-list').addEventListener('click', () =&gt; {
        addTask();
      });
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Note that all the new tasks will be lost if you refresh the page or close your browser.
That's because they are currently only stored in the client (and not on the server).</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../chapter6/04-the-document-object-model.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../chapter6/06-web-forms.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../chapter6/04-the-document-object-model.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../chapter6/06-web-forms.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
